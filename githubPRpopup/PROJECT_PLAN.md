# PR Inbox — 프로젝트 점검 및 기획서 업데이트

작성일: 2025-12-24
작성자: 자동 생성 요약 (도우미)

## 1) 현재 상태 요약

- 플랫폼: Chrome Extension (Manifest V3)
- 핵심 기능 구현 상태:
  - 알림 기반(PR 후보) 조회: Notifications API 활용, ETag 캐시
  - 백업/폴백: authored-search, GraphQL 폴백 구현
  - UI: 팝업(`popup.html`/`popup.js`), 다크모드 지원, 필터 패널, PIN/SNOOZE 버튼
  - 스누즈/핀: 로컬 저장(`chrome.storage.local`)에 저장, 스누즈는 `{ until, title, url }` 구조
  - 백그라운드: `background.js`에서 알람 예약, 만료 시 데스크탑 알림 생성, 배지 업데이트
  - 옵션 페이지(토큰 관리)는 존재(`options.html` / `options.js`)
- 권한: `storage`, `alarms`, `notifications`, host permission `https://api.github.com/*`

## 2) 문제점 & 개선 포인트 (우선순위)

1. UI/접근성
   - 다크 모드에서 버튼 텍스트 대비 문제 수정함(현재 `popup.css`에 반영).
   - 남은 문제: 일부 배지/라벨 텍스트 대비(추가 스냅샷 필요).
2. 스누즈 UX
   - 스누즈 관리 패널 구현(완료), 항목별 열기/언스누즈/전체 언스누즈, 실시간 남은 시간 표시(타이머 구현 완료).
   - 개선: 스누즈 만기 직후 UI/배지 동기화 검증 및 중복 알림 방지.
3. 안정성
   - Search API / GraphQL 실패 케이스 로깅은 있으나, 토큰 스코프 부족(예: private repos) 사용자 안내 강화 필요.
   - 네트워크 오류 처리 및 재시도 정책(특히 subject fetch 등) 추가 검토.
4. 성능
   - 레이블/레포 메타 패칭 병렬화 및 UI 로더(스켈레톤) 도입 권장.
5. 테스트
   - 수동/자동 테스트 시나리오 정리 필요(권한이 없는 토큰, private repos, 오프라인 등).
6. 배포/패키징
   - 크롬 웹스토어 메타(설명, 스크린샷) 정리.

## 3) 안전/프라이버시

- 모든 데이터는 클라이언트 로컬 저장(storage.local/sync) 사용, 외부 서버 없음(요구사항 준수).
- 토큰은 `chrome.storage.sync`에 저장됨 — 사용자가 기기 동기화를 원하지 않으면 옵션에 저장 위치 선택 기능 권장.

## 4) 권장 우선순위(단기 → 중기 → 장기)

- 단기(1–2일):
  1. 스누즈 만료/알림 중복 방지 검증 및 수정
  2. 다크 모드 버튼 대비 검증(여러 화면에서 스냅샷 확인)
  3. 토큰 스코프 부족 시 사용자에게 구체적 안내 메시지 개선
- 중기(1–2주):
  1. 레이블/레포 메타 패치 병렬화 + 로딩 인디케이터
  2. GraphQL/REST 실패 시 더 명확한 폴백 로직 및 백오프
  3. 간단한 E2E 테스트 시나리오(매뉴얼 문서화)
- 장기(향후):
  1. 옵션: 저장 위치 선택(로컬 vs sync)
  2. 통합 알림(예: Slack/Discord)은 서버리스 구현 고려(사용자 토큰 직접 연동 방식)

## 5) 권장 작업 목록 (구체적 작업 항목)

- [ ] S1: 스누즈 알람 중복/타이밍 이슈 조사 및 수정 (background + popup 동기화)
- [ ] S2: 알림 클릭 동작 일관성 확인 (알림에서 열기, 포커스 처리)
- [ ] U1: 다크 모드 대비 추가 조정 및 버튼/배지 텍스트 재검토
- [ ] U2: 스누즈 관리에 필터/정렬(가까운 만료 순) 추가
- [ ] P1: 레이블/레포 메타 동시 요청으로 성능 개선, 오류 피드백 UI
- [ ] T1: 매뉴얼 테스트 케이스 문서 작성 (토큰 스코프, private repo, offline)
- [ ] D1: README/스토어 설명 업데이트, 스크린샷 정리

## 6) 단기 실행 계획 (이번 주 목표)

1. (오늘) S1 + U1: 스누즈 만료 동작 수동 검증, UI 대비 미세조정
2. (내일) U2: 스누즈 패널 UX 개선(정렬, 검색)
3. (이번 주 끝) P1 + T1: 레이블/메타 패치 개선 & 테스트 케이스 정리

## 7) 수동 검증 체크리스트 (빠른 테스트)

- [ ] `manifest.json` 권한이 `alarms`, `notifications`, `storage` 포함되는지 확인(현재 포함됨).
- [ ] 스누즈 추가 → background alarm 예약 생성(확인: `chrome.alarms.getAll`로 확인).
- [ ] 스누즈 만료 → 데스크탑 알림 수신, 클릭 시 PR 오픈.
- [ ] 팝업에서 스누즈 관리 열기 → 언스누즈/열기 동작 확인.
- [ ] 다크 모드 전환 → 버튼 텍스트/라벨 대비 확인(특히 `UNPIN`, `SNOOZE` 등).

## 8) 산출물

- `PROJECT_PLAN.md` (이 파일)
- 권장: 간단한 `TESTING.md`에 위 체크리스트를 넣기 권장

---

원하시면 바로 `TESTING.md`와 `README.md` 요약(배포용)도 생성해 드리겠습니다.
